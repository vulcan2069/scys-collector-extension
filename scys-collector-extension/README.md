# 生财网站收藏助手 v1.0.0

专门针对生财网站（scys.com）的内容收藏扩展，将优质的生财内容保存到飞书多维表格中。

## 功能特色

### 🎯 专业定制
- **域名限制**：严格限制只能在生财网站使用，确保内容来源准确性
- **智能识别**：根据URL路径自动识别内容类型（文章/帖子/课程/直播）
- **精华检测**：自动识别并标记精华内容

### 🤖 自动提取
- **文章信息**：自动提取标题、作者信息
- **飞书链接**：自动识别页面中的飞书文档链接
- **内容分类**：基于页面特征智能推荐标签

### 🏷️ 标签管理
- **多标签支持**：支持为内容添加多个分类标签
- **智能建议**：基于历史数据提供标签建议
- **动态选项**：自动为多维表格添加新的标签选项

### ✨ 用户体验
- **现代化UI**：采用生财网站主色调的现代化界面
- **表单验证**：完善的输入验证和错误提示
- **重复检测**：避免重复收藏，支持覆盖更新

## 安装配置

### 1. 安装扩展
1. 下载扩展文件到本地
2. 打开 Chrome 浏览器，进入 `chrome://extensions/`
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"，选择扩展目录

### 2. 创建飞书应用

#### 应用ID (App ID)
- **格式**：`cli_` 开头的固定格式
- **示例**：`cli_a1b2c3d4e5f67890`
- **长度**：20个字符
- **获取方式**：
  1. 登录 [飞书开放平台](https://open.feishu.cn/)
  2. 创建企业自建应用
  3. 在应用详情页面查看应用ID

#### 应用密钥 (App Secret)
- **格式**：字母数字组合的密钥
- **示例**：`AbCdEfGhIjKlMnOpQrStUvWxYz123456`
- **长度**：32个字符
- **获取方式**：在应用详情页面的"凭证与基础信息"中查看

#### 权限配置
在飞书开放平台的应用管理中，需要开启以下权限：
- **多维表格权限**：
  - `bitable:app` - 获取多维表格应用信息
  - `bitable:app:readonly` - 读取多维表格应用
  - `bitable:app:write` - 编辑多维表格应用

### 3. 创建多维表格

#### 表格URL格式
多维表格的URL应该包含以下信息：
```
https://xxx.feishu.cn/base/appToken?table=tableId
```

**URL示例**：
```
https://abcd1234.feishu.cn/base/QFDnbV92JaX40ZswM5pc7adKnes?table=tblZ7w4cRHv5hksU&view=vew123456
```

**关键参数说明**：
- `appToken`：多维表格应用标识，格式如 `QFDnbV92JaX40ZswM5pc7adKnes`
- `tableId`：具体数据表ID，格式如 `tblZ7w4cRHv5hksU`

#### 表格字段配置

在飞书多维表格中需要创建以下字段（字段名称必须匹配）：

| 飞书字段名 | 字段类型 | 是否必需 | 说明 |
|-----------|---------|---------|------|
| 文章名称 | 多行文本 | ✅ | 存储文章标题 |
| 类型 | 单选 | ✅ | 选项：文章、帖子、课程、直播、其他 |
| 作者 | 多行文本 | ❌ | 作者姓名 |
| 精华 | 复选框 | ❌ | 是否为精华内容 |
| 阅读 | 复选框 | ❌ | 是否已阅读 |
| 生财链接 | URL | ✅ | 原始页面链接 |
| 飞书链接 | URL | ❌ | 相关飞书文档 |
| 启发感悟 | 多行文本 | ❌ | 个人备注 |
| 标签 | 多选 | ❌ | 内容分类标签 |

### 4. 配置扩展
1. 点击扩展图标，进入设置页面
2. 填入 App ID、App Secret 和表格URL
3. 点击"测试连接"验证配置
4. 保存配置

## 使用方法

1. 在生财网站上浏览内容
2. 点击扩展图标打开收藏弹窗
3. 扩展自动提取页面信息
4. 补充必要的分类和标签信息
5. 添加个人启发和感悟
6. 点击"保存收藏"

## 技术架构

- **Manifest V3**：使用最新的扩展规范
- **Content Scripts**：页面信息自动提取
- **Service Worker**：后台API调用处理
- **飞书API集成**：直接与飞书多维表格交互
- **现代化UI**：响应式设计，支持深色模式

## 开发说明

### 项目结构
```
scys-collector-extension/
├── manifest.json              # 扩展清单
├── popup.html                # 弹窗界面
├── options.html              # 配置页面
├── content-script.js         # 内容脚本
├── background.js             # 后台服务
├── css/
│   ├── popup.css            # 弹窗样式
│   └── options.css          # 配置页面样式
├── js/
│   ├── common.js            # 公共工具函数
│   ├── popup.js             # 弹窗逻辑
│   ├── options.js           # 配置逻辑
│   ├── record-manager.js    # 飞书API管理
│   └── tags-manager.js      # 标签管理器
├── icons/                   # 扩展图标
└── README.md               # 项目文档
```

### 核心特性
- 域名限制：只能在 scys.com 域名下使用
- 信息自动提取：基于生财网站的页面结构
- 字段智能映射：自动匹配多维表格字段
- 重复内容检测：基于"生财链接"字段去重

## 常见问题

### Q: 扩展无法在某个页面使用？
A: 本扩展仅限在生财网站（scys.com）使用，其他网站会显示域名限制提示。

### Q: 提示"缺少必需字段"错误？
A: 请确保多维表格包含必需字段：类型、生财链接、文章名称，字段名称必须完全一致。

### Q: 无法保存到飞书表格？
A: 请检查：
1. 飞书应用是否有多维表格权限
2. 应用是否已发布
3. 表格是否已分享给应用并设置可编辑权限

### Q: 标签无法保存？
A: 新标签会自动添加到多选字段的选项中，如果添加失败，请检查应用权限。

## 更新日志

### v1.0.0 (2025-01-17)
- 🎉 首个正式版本发布
- ✨ 支持生财网站专用内容收藏
- 🤖 自动信息提取和智能分类
- 🏷️ 多标签管理系统，支持智能推荐
- 📱 现代化用户界面，优化交互体验
- ☑️ 支持8种字段类型的数据保存
- 🔗 完善的飞书API集成

## 技术支持

如有问题或建议，请在项目 Issues 页面反馈。

---

> 本扩展专为生财有术社群成员开发，助力知识管理和学习成长。